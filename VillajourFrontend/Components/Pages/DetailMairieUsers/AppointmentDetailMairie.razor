@page "/AppointmentDetailMairie"
@attribute [Authorize(Roles = "user")]
@using Radzen
@using Radzen.Blazor
@using System.Globalization

<h3>Disponibilités des créneaux</h3>

<div class="schedule-container">
    <div class="date-header">
        <RadzenDropDown @bind-Value="selectedDay" Data="days" Change="@(async args => await OnDateChange())" />
        <RadzenDropDown @bind-Value="selectedMonth" Data="months" TextProperty="Text" ValueProperty="Value" Change="@(async args => await OnDateChange())" />
        <RadzenDropDown @bind-Value="selectedYear" Data="years" Change="@(async args => await OnDateChange())" />
    </div>
    <div class="slots-container">
        @foreach (var slot in availableSlots)
        {
            <div class="slot-item @(slot.Contains("(Réservé)") ? "taken-slot" : "")" @onclick="() => OpenAppointmentForm(slot)">
                @slot
            </div>
        }
    </div>
</div>

<style>
    .schedule-container {
        max-width: 80%; /* Augmente la largeur maximale */
        margin: 20px auto; /* Augmente l'espace autour du conteneur */
        padding: 40px; /* Augmente le padding pour plus d'espace intérieur */
        background-color: #fff;
        border-radius: 10px;
        box-shadow: 0 0 15px rgba(0, 0, 0, 0.2); /* Augmente l'ombre */
    }

    .date-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 30px; /* Augmente l'espace en bas */
        font-weight: bold;
        font-size: 1.5em; /* Augmente la taille de police */
    }

    .slots-container {
        display: flex;
        flex-wrap: wrap;
        gap: 20px; /* Augmente l'espace entre les créneaux */
    }

    .slot-item {
        background-color: #e0f7fa;
        padding: 20px 40px; /* Augmente le padding */
        border-radius: 10px; /* Augmente le radius */
        text-align: center;
        flex: 1 1 calc(20% - 20px); /* Modifie la taille pour mieux utiliser l'espace */
        cursor: pointer;
        font-size: 1.2em; /* Augmente la taille de la police */
    }

        .slot-item.taken-slot {
            background-color: #d3d3d3;
            cursor: not-allowed;
        }
</style>
